<head>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet">
  <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css"> -->
</head>


<!-- LogOut Button -->
<div class='userDetailsContainer'>
    <div>
      <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="account">
        <mat-icon>account_circle</mat-icon>
        <span class="font-kkt">Logged in as: {{user.firstName}} {{ user.lastName }}</span>
      </button>
      <mat-menu #menu="matMenu">
        <div>
          <button mat-menu-item appPreventDoubleClick (throttledClick)="onStatistic()" [throttleTime]="1000">
            <span class="font-kkt">Statistics</span>
          </button>
        </div>
        <div>
          <button mat-menu-item appPreventDoubleClick (throttledClick)="logout()" [throttleTime]="1000">
            <span class="font-kkt">Log out</span>
          </button>
        </div>
      </mat-menu>
    </div>
  </div>


<div class="all-container">
  <table matSort (matSortChange)="sortData($event)" class="table table-hover">
    <thead class="thead-dark">
      <tr>
        <th mat-sort-header="firstName">First Name</th>
        <th mat-sort-header="lastName">Last Name</th>
        <th mat-sort-header="email">E-mail</th>
        <th mat-sort-header="ongoing_courses">Ongoing courses</th>
        <th mat-sort-header="rejected_courses">Rejected courses</th>
        <th mat-sort-header="course">Wish to enroll course</th>
        <th>Course domain</th>
        <th>Enroll</th>
      </tr>
    </thead>
    <tbody>
      <ng-container *ngFor="let user of sortedData">
        <tr *ngFor="let course of user.wishToEnroll">
          <td>{{ user.firstName }}</td>
          <td>{{ user.lastName }}</td>
          <td>{{ user.email }}</td>
          <td>{{ user.courses.length }}</td>
          <td>{{ user.rejectedList.length }}</td>
          <td>{{ course.courseName }}</td>
          <td>{{ course.domain }}</td>
          <td>
            <button type="button" class="btn btn-success" appPreventDoubleClick (throttledClick)="yesClick(user, course)" [throttleTime]="1000">Yes</button>
            <button type="button" class="btn btn-danger" appPreventDoubleClick (throttledClick)="noClick(user, course)" [throttleTime]="1000">No</button>
          </td>
        </tr>
      </ng-container>
    </tbody>
  </table>
</div>